import { useContext, useState } from 'react';
import { MdKeyboardArrowLeft } from 'react-icons/md';
import s from './styles.module.scss';
import { ThemeContext } from '../../routes/root';

const Sidebar = () => {
    const [isActive, setIsActive] = useState(true);
    const themeContext = useContext(ThemeContext);
    if (!themeContext) {
        return null;
    }
    const { theme } = themeContext;
    return (
        <div className={`${s.sidebar} ${isActive ? s.active : ''}`}>
            <div className={s.sidebarHeader}>
                <button
                    type="button"
                    className={s.collapseSidebarBtn}
                    onClick={() => setIsActive((prev) => !prev)}>
                    <MdKeyboardArrowLeft className={`transition ${!isActive && '-scale-x-100'}`} />
                </button>
                <div className={`font-bold text-2xl transition ${!isActive ? 'text-xl' : ''}`}>
                    <svg
                        className={`full-logo logo-img transition duration-300 ease ${
                            isActive ? 'opacity-1 delay-150' : 'opacity-0'
                        }`}
                        width="84"
                        height="27"
                        viewBox="0 0 84 27"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M25.25 19.125C25.25 20.015 24.9861 20.885 24.4916 21.6251C23.9971 22.3651 23.2943 22.9419 22.4721 23.2825C21.6498 23.6231 20.745 23.7122 19.8721 23.5385C18.9992 23.3649 18.1974 22.9363 17.568 22.307C16.9387 21.6776 16.5101 20.8758 16.3365 20.0029C16.1628 19.13 16.2519 18.2252 16.5925 17.4029C16.9331 16.5807 17.5099 15.8779 18.2499 15.3834C18.99 14.8889 19.86 14.625 20.75 14.625C21.9435 14.625 23.0881 15.0991 23.932 15.943C24.7759 16.7869 25.25 17.9315 25.25 19.125ZM24.125 3.375H5C4.40326 3.375 3.83097 3.61205 3.40901 4.03401C2.98705 4.45597 2.75 5.02826 2.75 5.625V21.375C2.75 21.9717 2.98705 22.544 3.40901 22.966C3.83097 23.3879 4.40326 23.625 5 23.625H15.7325C14.5753 22.3425 13.9547 20.6646 13.999 18.9377C14.0433 17.2109 14.749 15.567 15.9705 14.3455C17.192 13.124 18.8359 12.4183 20.5627 12.374C22.2896 12.3297 23.9675 12.9503 25.25 14.1075V9C25.25 8.70163 25.1315 8.41548 24.9205 8.2045C24.7095 7.99353 24.4234 7.875 24.125 7.875H6.125C5.82663 7.875 5.54048 7.75647 5.3295 7.54549C5.11853 7.33452 5 7.04837 5 6.75C5 6.45163 5.11853 6.16548 5.3295 5.9545C5.54048 5.74353 5.82663 5.625 6.125 5.625H25.25V4.5C25.25 4.20163 25.1315 3.91548 24.9205 3.7045C24.7095 3.49353 24.4234 3.375 24.125 3.375Z"
                            fill="#4C49ED"
                        />
                        <path
                            d="M35.865 21.5V6.695H46.26V9.656H39.75V12.659H45.777V15.62H39.75V21.5H35.865ZM47.8982 21.5V10.832H51.6362V21.5H47.8982ZM47.8142 9.32V5.96H51.7412V9.32H47.8142ZM53.948 21.5V13.73C53.948 13.254 53.934 12.771 53.906 12.281C53.878 11.791 53.836 11.308 53.78 10.832H57.392L57.602 12.68H57.371C57.721 12.008 58.218 11.497 58.862 11.147C59.506 10.783 60.234 10.601 61.046 10.601C62.292 10.601 63.223 10.972 63.839 11.714C64.469 12.442 64.784 13.583 64.784 15.137V21.5H61.046V15.305C61.046 14.619 60.927 14.143 60.689 13.877C60.451 13.597 60.108 13.457 59.66 13.457C59.072 13.457 58.596 13.653 58.232 14.045C57.868 14.423 57.686 14.927 57.686 15.557V21.5H53.948ZM67.032 21.5V10.832H70.77V21.5H67.032ZM66.948 9.32V5.96H70.875V9.32H66.948ZM78.4788 21.731C77.3028 21.731 76.2738 21.507 75.3918 21.059C74.5098 20.611 73.8238 19.974 73.3338 19.148C72.8438 18.308 72.5988 17.307 72.5988 16.145C72.5988 14.983 72.8438 13.989 73.3338 13.163C73.8238 12.337 74.5098 11.707 75.3918 11.273C76.2738 10.825 77.3028 10.601 78.4788 10.601C79.2068 10.601 79.9208 10.699 80.6208 10.895C81.3208 11.091 81.8878 11.371 82.3218 11.735L81.2718 14.276C80.9358 13.996 80.5508 13.786 80.1168 13.646C79.6968 13.492 79.2838 13.415 78.8778 13.415C78.1078 13.415 77.5058 13.646 77.0718 14.108C76.6518 14.57 76.4418 15.249 76.4418 16.145C76.4418 17.041 76.6518 17.727 77.0718 18.203C77.5058 18.665 78.1078 18.896 78.8778 18.896C79.2698 18.896 79.6828 18.826 80.1168 18.686C80.5508 18.532 80.9358 18.322 81.2718 18.056L82.3218 20.597C81.8738 20.947 81.2998 21.227 80.5998 21.437C79.9138 21.633 79.2068 21.731 78.4788 21.731Z"
                            fill={`${theme === 'dark' ? '#fff' : '#000'}`}
                        />
                    </svg>
                    <img
                        className={`icon-logo logo-img transition delay-150 duration-300 ease ${
                            isActive ? 'opacity-0' : 'opacity-1'
                        }`}
                        src="/logo-icon.svg"
                        alt="Logo"
                    />
                </div>
            </div>
            <div className="sidebar-body"></div>
        </div>
    );
};

export default Sidebar;
